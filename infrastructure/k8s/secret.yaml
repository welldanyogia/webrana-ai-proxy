# ===========================================
# Webrana Secrets - TEMPLATE ONLY
# ===========================================
# WARNING: This file is a TEMPLATE. Do NOT commit actual secrets!
#
# For production deployment:
# 1. Copy this file: cp secret.yaml secret.prod.yaml
# 2. Replace all placeholder values with actual secrets
# 3. Apply with: kubectl apply -f secret.prod.yaml
# 4. Delete the file after applying (secrets stored in K8s)
#
# Or use external secret management:
# - DigitalOcean: doctl kubernetes cluster kubeconfig
# - Sealed Secrets: kubeseal < secret.yaml > sealed-secret.yaml
# - External Secrets Operator with DO Vault
# ===========================================
apiVersion: v1
kind: Secret
metadata:
  name: webrana-secrets
  namespace: webrana
  labels:
    app: webrana
type: Opaque
stringData:
  # Database connection (DigitalOcean Managed PostgreSQL)
  # Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?sslmode=require
  # Get from: doctl databases connection <db-id> --format URI
  DATABASE_URL: "${DATABASE_URL}"
  
  # Redis connection (DigitalOcean Managed Redis)
  # Format: rediss://default:PASSWORD@HOST:PORT
  # Get from: doctl databases connection <redis-id> --format URI
  REDIS_URL: "${REDIS_URL}"
  
  # Master encryption key for AES-256-GCM (32 bytes, base64 encoded)
  # Generate with: openssl rand -base64 32
  # CRITICAL: Store backup securely, loss = data loss
  MASTER_ENCRYPTION_KEY: "${MASTER_ENCRYPTION_KEY}"
  
  # JWT signing secret (64 bytes recommended)
  # Generate with: openssl rand -base64 64
  JWT_SECRET: "${JWT_SECRET}"
  
  # Email service (Resend)
  RESEND_API_KEY: "${RESEND_API_KEY}"
  
  # Payment gateway (Midtrans)
  # Sandbox keys for staging, production keys for prod
  MIDTRANS_SERVER_KEY: "${MIDTRANS_SERVER_KEY}"
  MIDTRANS_CLIENT_KEY: "${MIDTRANS_CLIENT_KEY}"
  
  # NextAuth secret for frontend session encryption
  # Generate with: openssl rand -base64 32
  NEXTAUTH_SECRET: "${NEXTAUTH_SECRET}"
